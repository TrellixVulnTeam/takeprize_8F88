{"ast":null,"code":"import _slicedToArray from\"C:/Users/\\u7530\\u5929/Desktop/\\u62BD\\u5956\\u8F6E\\u76D8/\\u6210\\u54C1\\u7B2C\\u4E8C\\u6B21\\u4FEE\\u6539/takeprize/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from'react';import PubSub from'pubsub-js';import'./index.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export default function Showprize(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),prizemsg=_useState2[0],setprizemsg=_useState2[1];var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),display=_useState4[0],setdisplay=_useState4[1];// 订阅消息：收到消息后设置中奖消息，弹出中奖信息\nuseEffect(function(){var token=PubSub.subscribe('Showprize',function(msg,item){//设置中奖消息\nsetprizemsg(item);//弹出中奖信息\nsetdisplay('block');});return function(){PubSub.unsubscribe(token);};},[prizemsg]);//关闭中奖信息\nvar close=function close(){setdisplay('none');};return/*#__PURE__*/ (// 遮罩层+弹出奖品\n_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"mask\",style:{display:display}}),/*#__PURE__*/_jsxs(\"div\",{className:\"show-prize\",style:{display:display},children:[/*#__PURE__*/_jsx(\"img\",{src:\"./images/prize.png\",alt:\"\",className:\"prize-container\"}),/*#__PURE__*/_jsx(\"div\",{className:\"prize-info\",children:prizemsg}),/*#__PURE__*/_jsx(\"img\",{src:\"./images/close.png\",alt:\"\",className:\"close\",onClick:close})]})]}));}","map":{"version":3,"sources":["C:/Users/田天/Desktop/抽奖轮盘/成品第二次修改/takeprize/src/component/Showprize/index.jsx"],"names":["React","useEffect","useState","PubSub","Showprize","prizemsg","setprizemsg","display","setdisplay","token","subscribe","msg","item","unsubscribe","close"],"mappings":"kOAAA,MAAOA,CAAAA,KAAP,EAAcC,SAAd,CAAwBC,QAAxB,KAAuC,OAAvC,CACA,MAAOC,CAAAA,MAAP,KAAmB,WAAnB,CACA,MAAO,aAAP,C,6IAEA,cAAe,SAASC,CAAAA,SAAT,EAAqB,eACHF,QAAQ,CAAC,EAAD,CADL,wCACzBG,QADyB,eAChBC,WADgB,8BAELJ,QAAQ,EAFH,yCAEzBK,OAFyB,eAEjBC,UAFiB,eAGhC;AACAP,SAAS,CAAC,UAAM,CACZ,GAAMQ,CAAAA,KAAK,CAAEN,MAAM,CAACO,SAAP,CAAiB,WAAjB,CAA6B,SAACC,GAAD,CAAKC,IAAL,CAAY,CAClD;AACAN,WAAW,CAACM,IAAD,CAAX,CACA;AACAJ,UAAU,CAAC,OAAD,CAAV,CACH,CALY,CAAb,CAMA,MAAO,WAAM,CACTL,MAAM,CAACU,WAAP,CAAmBJ,KAAnB,EACH,CAFD,CAGH,CAVQ,CAUN,CAACJ,QAAD,CAVM,CAAT,CAWA;AACA,GAAMS,CAAAA,KAAK,CAAC,QAANA,CAAAA,KAAM,EAAI,CACZN,UAAU,CAAC,MAAD,CAAV,CACH,CAFD,CAGA,oBACI;AACA,wCAEI,YAAK,SAAS,CAAC,MAAf,CAAsB,KAAK,CAAE,CAACD,OAAO,CAACA,OAAT,CAA7B,EAFJ,cAII,aAAK,SAAS,CAAC,YAAf,CAA4B,KAAK,CAAE,CAACA,OAAO,CAACA,OAAT,CAAnC,wBACI,YAAK,GAAG,CAAC,oBAAT,CAA8B,GAAG,CAAC,EAAlC,CAAqC,SAAS,CAAC,iBAA/C,EADJ,cAEI,YAAK,SAAS,CAAC,YAAf,UAA6BF,QAA7B,EAFJ,cAGI,YAAK,GAAG,CAAC,oBAAT,CAA8B,GAAG,CAAC,EAAlC,CAAqC,SAAS,CAAC,OAA/C,CAAuD,OAAO,CAAES,KAAhE,EAHJ,GAJJ,GAFJ,EAaH","sourcesContent":["import React,{useEffect,useState} from 'react'\r\nimport PubSub from 'pubsub-js'\r\nimport './index.css'\r\n\r\nexport default function Showprize() {\r\n    const [prizemsg,setprizemsg]=useState(\"\");\r\n    const [display,setdisplay]=useState();\r\n    // 订阅消息：收到消息后设置中奖消息，弹出中奖信息\r\n    useEffect(() => {\r\n        const token= PubSub.subscribe('Showprize',(msg,item)=>{\r\n            //设置中奖消息\r\n            setprizemsg(item);\r\n            //弹出中奖信息\r\n            setdisplay('block');\r\n        })\r\n        return () => {\r\n            PubSub.unsubscribe(token);\r\n        }\r\n    }, [prizemsg])\r\n    //关闭中奖信息\r\n    const close=()=>{\r\n        setdisplay('none');\r\n    }\r\n    return (\r\n        // 遮罩层+弹出奖品\r\n        <>\r\n            {/* 遮罩层 */}\r\n            <div className=\"mask\" style={{display:display}} ></div>\r\n            {/* 弹出奖品 */}\r\n            <div className=\"show-prize\" style={{display:display}} >\r\n                <img src=\"./images/prize.png\" alt=\"\" className=\"prize-container\"/>\r\n                <div className=\"prize-info\">{prizemsg}</div>\r\n                <img src=\"./images/close.png\" alt=\"\" className=\"close\" onClick={close} />\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n"]},"metadata":{},"sourceType":"module"}