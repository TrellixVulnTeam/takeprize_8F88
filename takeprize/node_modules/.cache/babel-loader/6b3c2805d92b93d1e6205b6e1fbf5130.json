{"ast":null,"code":"import _slicedToArray from\"C:/Users/\\u7530\\u5929/Desktop/\\u62BD\\u5956\\u8F6E\\u76D8/\\u6210\\u54C1\\u7B2C\\u4E8C\\u6B21\\u4FEE\\u6539/takeprize/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import PubSub from'pubsub-js';import'./index.css';import{jsx as _jsx}from\"react/jsx-runtime\";export default function Twinkle(){//闪烁动画状态\nvar _useState=useState(),_useState2=_slicedToArray(_useState,2),twinkle_animate=_useState2[0],settwinkle=_useState2[1];//订阅消息：收到消息后进行闪烁动画，之后通知Showprize展示奖品信息\nuseEffect(function(){var token=PubSub.subscribe('Twinkle',function(msg,item){// 进行闪烁动画\nsettwinkle('twinkle 0.8s');// 通知Showprize展示奖品信息\nsetTimeout(function(){settwinkle('none');// 通知展示中奖消息\nPubSub.publish('Showprize',item);},1000);});return function(){PubSub.unsubscribe(token);};},[twinkle_animate]);return/*#__PURE__*/ (// 中奖后闪烁\n_jsx(\"div\",{className:\"twinkle-box\",children:/*#__PURE__*/_jsx(\"div\",{id:\"twinkle\",className:\"twinkle\",style:{animation:twinkle_animate}})}));}","map":{"version":3,"sources":["C:/Users/田天/Desktop/抽奖轮盘/成品第二次修改/takeprize/src/component/Twinkle/index.jsx"],"names":["React","useState","useEffect","PubSub","Twinkle","twinkle_animate","settwinkle","token","subscribe","msg","item","setTimeout","publish","unsubscribe","animation"],"mappings":"kOAAA,MAAOA,CAAAA,KAAP,EAAcC,QAAd,CAAuBC,SAAvB,KAAuC,OAAvC,CACA,MAAOC,CAAAA,MAAP,KAAmB,WAAnB,CACA,MAAO,aAAP,C,2CAEA,cAAe,SAASC,CAAAA,OAAT,EAAmB,CAC9B;AAD8B,cAEKH,QAAQ,EAFb,wCAEvBI,eAFuB,eAEPC,UAFO,eAG9B;AACAJ,SAAS,CAAC,UAAM,CACZ,GAAMK,CAAAA,KAAK,CAACJ,MAAM,CAACK,SAAP,CAAiB,SAAjB,CAA2B,SAACC,GAAD,CAAKC,IAAL,CAAY,CAC/C;AACAJ,UAAU,CAAC,cAAD,CAAV,CACA;AACAK,UAAU,CAAC,UAAM,CACbL,UAAU,CAAC,MAAD,CAAV,CACA;AACAH,MAAM,CAACS,OAAP,CAAe,WAAf,CAA2BF,IAA3B,EACH,CAJS,CAIP,IAJO,CAAV,CAKH,CATW,CAAZ,CAUA,MAAO,WAAM,CACTP,MAAM,CAACU,WAAP,CAAmBN,KAAnB,EACH,CAFD,CAGH,CAdQ,CAcN,CAACF,eAAD,CAdM,CAAT,CAeA,oBACI;AACA,YAAK,SAAS,CAAC,aAAf,uBACI,YAAK,EAAE,CAAC,SAAR,CAAkB,SAAS,CAAC,SAA5B,CAAsC,KAAK,CAAE,CAACS,SAAS,CAACT,eAAX,CAA7C,EADJ,EAFJ,EAMH","sourcesContent":["import React,{useState,useEffect} from 'react'\r\nimport PubSub from 'pubsub-js';\r\nimport './index.css'\r\n\r\nexport default function Twinkle() {\r\n    //闪烁动画状态\r\n    const [twinkle_animate,settwinkle]=useState();\r\n    //订阅消息：收到消息后进行闪烁动画，之后通知Showprize展示奖品信息\r\n    useEffect(() => {\r\n        const token=PubSub.subscribe('Twinkle',(msg,item)=>{\r\n            // 进行闪烁动画\r\n            settwinkle('twinkle 0.8s');\r\n            // 通知Showprize展示奖品信息\r\n            setTimeout(() => {\r\n                settwinkle('none');\r\n                // 通知展示中奖消息\r\n                PubSub.publish('Showprize',item);\r\n            }, 1000);\r\n        })\r\n        return () => {\r\n            PubSub.unsubscribe(token);\r\n        }\r\n    }, [twinkle_animate])\r\n    return (\r\n        // 中奖后闪烁\r\n        <div className=\"twinkle-box\">\r\n            <div id=\"twinkle\" className=\"twinkle\" style={{animation:twinkle_animate}} ></div>\r\n        </div>\r\n    )\r\n}\r\n"]},"metadata":{},"sourceType":"module"}